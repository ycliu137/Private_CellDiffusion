Assuming unrestricted shared filesystem usage.
host: scc-507
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Provided resources: gpu=1
Job stats:
job                  count
-----------------  -------
aggregate_metrics        1
all                      1
encode_features          1
integrate               11
total                   14

Select jobs to execute...
Execute 1 jobs...
[Sun Dec 21 23:03:46 2025]
localrule encode_features:
    input: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/preprocessed.h5ad
    output: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    jobid: 2
    reason: Missing output files: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    resources: tmpdir=/scratch/2460558.1.czcb-buyin, gpu=1
[Sun Dec 21 23:04:28 2025]
Finished jobid: 2 (Rule: encode_features)
1 of 14 steps (7%) done
Select jobs to execute...
Execute 2 jobs...
[Sun Dec 21 23:04:28 2025]
localrule integrate:
    input: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    output: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/scDiffusion_integration_k50_kadd0.h5ad, /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/metrics_log_k50_kadd0.csv
    jobid: 1
    reason: Missing output files: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/metrics_log_k50_kadd0.csv, /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/scDiffusion_integration_k50_kadd0.h5ad; Input files updated by another job: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    wildcards: k=50, k_add=0
    resources: tmpdir=/scratch/2460558.1.czcb-buyin, gpu=1
[Sun Dec 21 23:04:28 2025]
localrule integrate:
    input: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    output: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/scDiffusion_integration_k50_kadd40.h5ad, /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/metrics_log_k50_kadd40.csv
    jobid: 7
    reason: Missing output files: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/metrics_log_k50_kadd40.csv, /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/scDiffusion_integration_k50_kadd40.h5ad; Input files updated by another job: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    wildcards: k=50, k_add=40
    resources: tmpdir=/scratch/2460558.1.czcb-buyin, gpu=1
Select jobs to execute...
RuleException:
CalledProcessError in file "/projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/PL_stress_test/Snakefile", line 107:
Command 'set -euo pipefail;  /projectnb/czproj/packages/ycliu/envs/dif_snake_env/bin/python3.12 /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/PL_stress_test/.snakemake/scripts/tmpin4syjz7.integrate.py' returned non-zero exit status 1.
[Sun Dec 21 23:04:36 2025]
Error in rule integrate:
    message: None
    jobid: 1
    input: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/encoded.h5ad
    output: /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/scDiffusion_integration_k50_kadd0.h5ad, /projectnb/czproj/Algorithms/ycliu/Private_CellDiffusion/data/outputs/stress_tests_pbmc10k/metrics_log_k50_kadd0.csv
