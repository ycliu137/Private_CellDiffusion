# Configuration file for graph building method benchmark pipeline

datasets: ["pbmc10k_rm100pct"]

normalized_data: False
# Data paths
data:
  input_path: "/projectnb/czlab/A00/ycliu/scRNA_integration_benchmark_datasets/PBMC10K_rm100pct/"
  # Output directory (relative to project root, or use absolute path)
  output_dir: "../data/outputs/graph_benchmark"

# Preprocessing parameters
preprocess:
  min_cells: 3
  target_sum: 10000
  n_top_genes: 2000
  min_mean: 0.0125
  max_mean: 9
  min_disp: 0.5

# Feature encoder parameters
feature_encoder:
  D_encode_list: [2000, 300, 50]
  D_decode_list: [50, 300, 2000]
  max_epoch: 2000
  lr: 0.001

# Graph building methods to test
# Available methods: OMNN-Harmony, pure-MNN, Harmony-MNN, scVI-MNN, OMNN-scVI
graph_methods:
  - OMNN-Harmony
  - pure-MNN
  - Harmony-MNN
  - scVI-MNN
  - OMNN-scVI

# Integration graph parameters (same for all methods)
integration_graph:
  n_edges_per_node: 50
  k_mnn: 50

# Integration loss adjacency parameters
integration_loss_adj:
  k: 50

# Integration diffusion parameters (CellDiffusion)
integration_diffusion:
  max_epoch: 2000
  lr: 0.001
  num_features_diffusion: 50
  num_heads_diffusion: 8
  num_steps_diffusion: 8
  time_increment_diffusion: 0.2

# Evaluation parameters
evaluation:
  label_key: "labels"
  batch_key: "batch"

# UMAP visualization parameters
umap:
  n_neighbors: 50
  n_pcs: 50

# Device
device: "cuda"  # or "cpu"

# SCIB evaluation parameters
scib_evaluation:
  n_jobs: 1  # Number of parallel jobs for scib benchmark (1 is recommended for stability)

